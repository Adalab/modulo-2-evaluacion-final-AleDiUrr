{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\nconst buttonSearch = document.querySelector('.js-search-btn');\nconst cocktailInput = document.querySelector('.js-cocktail-input');\nconst list = document.querySelector('.js-favs-list');\nlet html = '';\nlet drinks = [];\nlet favs = [];\n\nfunction handleClickResults(event) {\n  const clickedFavid = event.currentTarget.id;\n\n  const clickResult = drinks.find((itemClickedDrink) => {\n    return itemClickedDrink.id === clickedFavid;\n  });\n  const favDrinkFound = favs.findIndex((fav) => {\n    return fav.id === clickedFavid;\n  });\n  if (favDrinkFound === -1) {\n    favs.push(clickResult);\n  } else {\n    favs.splice(favDrinkFound, 1);\n  }\n}\n\nfunction listenerliResults() {\n  const liResults = document.querySelectorAll('.js-result');\n  for (const itemResult of liResults) {\n    itemResult.addEventListener('click', handleClickResults);\n  }\n}\n\nfunction renderDrinkList(dataFromApi) {\n  for (let i = 0; i < drinks.length; i++) {\n    const drink = drinks[i];\n    html += `<li class=\"result_item_list js-result\" id=${drink.id}>`;\n    if (drink.img === null) {\n      html += `<img\n          class=\"fav_img\"\n          src=\"./assets/images/strawberry-cocktail-m.jpg\"\n          width=\"100px\"\n        />`;\n    } else {\n      html += `<img src=${drink.img} width=200px >`;\n    }\n    html += `<h2>${drink.name} </h2>`;\n    html += `</li>`;\n  }\n  list.innerHTML = html;\n  listenerliResults();\n}\n\nfunction dataFromApi() {\n  const cocktail = cocktailInput.value;\n  const url_server = `https://www.thecocktaildb.com/api/json/v1/1/search.php?s=${cocktail}`;\n\n  fetch(url_server)\n    .then((resp) => resp.json())\n    .then((data) => {\n      drinks = data.drinks.map((coctel) => {\n        const newCoctel = {\n          id: coctel.idDrink,\n          name: coctel.strDrink,\n          img: coctel.strDrinkThumb,\n        };\n        return newCoctel;\n      });\n      renderDrinkList();\n    });\n}\n\nfunction handleClicKSearchDrink(event) {\n  event.preventDefault();\n  dataFromApi();\n}\n\nbuttonSearch.addEventListener('click', handleClicKSearchDrink);\n"]}