{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nconst buttonSearch = document.querySelector('.js-search-btn');\nconst cocktailInput = document.querySelector('.js-cocktail-input');\nconst list = document.querySelector('.js-result-list');\nconst listFavs = document.querySelector('.js-favs-list');\nconst resetBtn = document.querySelector('.js-reset-btn');\n\nlet drinks = [];\nlet favorites = [];\n\nfunction handleDeleteBtns(event) {\n  const drinkIdClickled = event.currentTarget.id;\n  const foundFavoriteDrinkIndex = favorites.findIndex((fav) => {\n    return fav.id === drinkIdClickled;\n  });\n  favorites.splice(foundFavoriteDrinkIndex, 1);\n  renderFavsDrinks();\n}\n\nfunction listenDeleteBtns() {\n  const deleteBtns = document.querySelectorAll('.js-delete-btn');\n  for (const deleteBtn of deleteBtns) {\n    deleteBtn.addEventListener('click', handleDeleteBtns);\n  }\n}\n\nfunction resetFav() {\n  localStorage.removeItem('favorites');\n  cocktailInput.value = '';\n  listFavs.innerHTML = '';\n  list.innerHTML = '';\n  favorites = [];\n}\n\nfunction handleClickReset(event) {\n  event.preventDefault();\n  resetFav();\n}\n\nfunction getFavoritesfromLocalStorage() {\n  const favsListStored = JSON.parse(localStorage.getItem('favorites'));\n\n  if (favsListStored) {\n    favorites = favsListStored;\n    renderFavsDrinks();\n  }\n}\n\nfunction setFavoritestoLocalStorage() {\n  localStorage.setItem('favorites', JSON.stringify(favorites));\n}\n\nfunction renderFavsDrinks() {\n  let html = '';\n  if (favorites.length === 0 || favorites === null) {\n    html += `Any fav?'`;\n  } else {\n    for (const favorite of favorites) {\n      html += `<li class=\"fav_item_list js_fav_item\" id=\"${favorite.id}\">`;\n      html += `<h2\">${favorite.name}</h2>`;\n      if (favorite.img === null) {\n        html += `<img class=\"drink_img\" src=\"./assets/images/strawberry-cocktail-m.jpg\" alt=\"cocktail-photo\">`;\n      } else {\n        html += `<img class=\"drink_img\" src=\"${favorite.img}\" alt=\"cocktail-photo\">`;\n      }\n      html += `<button class=\"js-delete-btn\" id=${favorite.id}>x</button>`;\n      html += `</li>`;\n    }\n  }\n  listFavs.innerHTML = html;\n  listenDeleteBtns();\n}\n\nfunction handleClickResults(event) {\n  const drinkIdClickled = event.currentTarget.id;\n  const favDrink = drinks.find((fav) => {\n    return fav.id === drinkIdClickled;\n  });\n  const foundFavoriteDrinkIndex = favorites.findIndex((fav) => {\n    return fav.id === drinkIdClickled;\n  });\n  if (foundFavoriteDrinkIndex === -1) {\n    favorites.push(favDrink);\n  } else {\n    favorites.splice(foundFavoriteDrinkIndex, 1);\n  }\n  renderFavsDrinks();\n  setFavoritestoLocalStorage();\n}\n\nfunction listenerliResults() {\n  const liResults = document.querySelectorAll('.js-result');\n  for (const itemResult of liResults) {\n    itemResult.addEventListener('click', handleClickResults);\n  }\n}\n\nfunction renderDrinkList(drinks) {\n  let html = '';\n  for (const drink of drinks) {\n    html += `<li class=\"result_item_list js-result\" id=\"${drink.id}\">`;\n\n    if (drink.img === null || drink.img === undefined) {\n      html += `<img class=\"drink_img\" src=\"./assets/images/strawberry-cocktail-m.jpg\" alt=\"cocktail-photo\"/>`;\n    } else {\n      html += `<img class=\"drink_img\" src=\"${drink.img}\" alt= cocktail-photo/>`;\n    }\n    html += `<h2>${drink.name}</h2>`;\n    html += `</li>`;\n  }\n  list.innerHTML = html;\n  listenerliResults();\n}\n\nfunction dataFromApi() {\n  const cocktail = cocktailInput.value;\n  const url_server = `https://www.thecocktaildb.com/api/json/v1/1/search.php?s=${cocktail}`;\n\n  fetch(url_server)\n    .then((resp) => resp.json())\n    .then((data) => {\n      drinks = data.drinks.map((coctel) => {\n        const newCoctel = {\n          id: coctel.idDrink,\n          name: coctel.strDrink,\n          img: coctel.strDrinkThumb,\n        };\n        return newCoctel;\n      });\n      renderDrinkList(drinks);\n      setFavoritestoLocalStorage();\n    });\n}\n\nfunction handleClicKSearchDrink(event) {\n  event.preventDefault();\n  dataFromApi();\n}\n\nresetBtn.addEventListener('click', handleClickReset);\nbuttonSearch.addEventListener('click', handleClicKSearchDrink);\n\ngetFavoritesfromLocalStorage();\n"]}