"use strict";const buttonSearch=document.querySelector(".js-search-btn"),cocktailInput=document.querySelector(".js-cocktail-input"),list=document.querySelector(".js-result-list"),listFavs=document.querySelector(".js-favs-list");let drinks=[],favorites=[];function getFavsFromLocalStorage(){const i=JSON.stringify(favorites);localStorage.setItem("favorites",i)}function renderFavsDrinks(){let i="";if(0===favorites.length||null===favorites)i+="Any fav?'";else for(const t of favorites)i+=`<li class="fav_item_list js_fav_item" id="${t.id}">`,i+=`<h2">${t.name}</h2>`,null===t.img?i+='<img class="drink_img" src="./assets/images/strawberry-cocktail-m.jpg" alt="cocktail-photo">':i+=`<img class="drink_img" src="${t.img}" alt="cocktail-photo">`,i+="</li>";listFavs.innerHTML=i}function handleClickResults(i){const t=i.currentTarget.id,s=drinks.find(i=>i.id===t),e=favorites.findIndex(i=>i.id===t);-1===e?favorites.push(s):favorites.splice(e,1),renderDrinkList(drinks),renderFavsDrinks()}function listenerliResults(){const i=document.querySelectorAll(".js-result");for(const t of i)t.addEventListener("click",handleClickResults)}function renderDrinkList(i){let t="",s="";for(const e of i){const i=favorites.findIndex(i=>i.id===e.id);console.log(i),s=-1!==i?"is_fav":"",t+=`<li class="result_item_list js-result ${s}" id="${e.id}">`,null===e.img||void 0===e.img?t+='<img class="drink_img" src="./assets/images/strawberry-cocktail-m.jpg" alt="cocktail-photo"/>':t+=`<img class="drink_img" src="${e.img}" alt= cocktail-photo/>`,t+=`<h2>${e.name}</h2>`,t+="</li>"}list.innerHTML=t,listenerliResults()}function dataFromApi(){const i=cocktailInput.value;fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s="+i).then(i=>i.json()).then(i=>{drinks=i.drinks.map(i=>({id:i.idDrink,name:i.strDrink,img:i.strDrinkThumb})),renderDrinkList(drinks)})}function handleClicKSearchDrink(i){i.preventDefault(),dataFromApi()}buttonSearch.addEventListener("click",handleClicKSearchDrink);