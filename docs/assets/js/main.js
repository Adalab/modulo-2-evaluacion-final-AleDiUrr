"use strict";const buttonSearch=document.querySelector(".js-search-btn"),cocktailInput=document.querySelector(".js-cocktail-input"),list=document.querySelector(".js-result-list"),listFavs=document.querySelector(".js-favs-list");let drinks=[],favorites=[];function getFavoritesfromLocalStorage(){const t=JSON.parse(localStorage.getItem("favorites"));t?(favorites=t,renderFavsDrinks()):dataFromApi()}function setFavoritestoLocalStorage(){localStorage.setItem("favorites",JSON.stringify(favorites))}function renderFavsDrinks(){let t="";if(0===favorites.length||null===favorites)t+="Any fav?'";else for(const i of favorites)t+=`<li class="fav_item_list js_fav_item" id="${i.id}">`,t+=`<h2">${i.name}</h2>`,null===i.img?t+='<img class="drink_img" src="./assets/images/strawberry-cocktail-m.jpg" alt="cocktail-photo">':t+=`<img class="drink_img" src="${i.img}" alt="cocktail-photo">`,t+="</li>";listFavs.innerHTML=t}function handleClickResults(t){const i=t.currentTarget.id,e=drinks.find(t=>t.id===i),s=favorites.findIndex(t=>t.id===i);-1===s?favorites.push(e):favorites.splice(s,1),renderDrinkList(drinks),renderFavsDrinks(),setFavoritestoLocalStorage()}function listenerliResults(){const t=document.querySelectorAll(".js-result");for(const i of t)i.addEventListener("click",handleClickResults)}function renderDrinkList(t){let i="",e="";for(const s of t){const t=favorites.findIndex(t=>t.id===s.id);console.log(t),e=-1!==t?"is_fav":"",i+=`<li class="result_item_list js-result ${e}" id="${s.id}">`,null===s.img||void 0===s.img?i+='<img class="drink_img" src="./assets/images/strawberry-cocktail-m.jpg" alt="cocktail-photo"/>':i+=`<img class="drink_img" src="${s.img}" alt= cocktail-photo/>`,i+=`<h2>${s.name}</h2>`,i+="</li>"}list.innerHTML=i,listenerliResults()}function dataFromApi(){const t=cocktailInput.value;fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s="+t).then(t=>t.json()).then(t=>{drinks=t.drinks.map(t=>({id:t.idDrink,name:t.strDrink,img:t.strDrinkThumb})),renderDrinkList(drinks),setFavoritestoLocalStorage()})}function handleClicKSearchDrink(t){t.preventDefault(),dataFromApi()}getFavoritesfromLocalStorage(),buttonSearch.addEventListener("click",handleClicKSearchDrink);